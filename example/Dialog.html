<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>dialog</title>
<link rel="stylesheet" href="css/Dialog.css" />
<script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-6-8/esl.js"></script>
</head>
<body>
<div style="position:fixed;">
  <button id="newDialog">新窗口</button>
  <button id="newAlertDialog">新确定</button>
  <button id="newConfirmDialog">新确定和取消</button>
  <button id="newConfirmDialogNoFixed">新确定和取消not fixed</button>
</div>

<div id="xxxx">
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
  <p>我是一个dialog行</p>
</div>

<select></select>

<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>

<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p>我是一个行</p>
<p style="white-space:nowrap">我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行我是一个行</p>



<script>
(function () {
    require.config({
      baseUrl: '../src/moye/ui'
    });
    require(['lib', 'DialogFactory'], function (lib, DialogFactory) {

      var newdlg; 
      lib.on( lib.g('newDialog'), 'click', function() {
        if(newdlg) {
          newdlg.show();
          return;
        }
        newdlg = DialogFactory.create({
            main: '',
            skin: 'xxx',
            content: '内容',
            footer: '底部',
            width: '600px',
            title: '标题',
            top: '50px',
            left: '',
            fixed: 1,
            showMask: 1,
            leve: 10
        });

        newdlg.show();
      });



      lib.on( lib.g('newAlertDialog'), 'click', function() {
        var dlg = DialogFactory.alert({
          content: 'hello dialog!'
        });

        dlg.on('confirm', function() {
          dlg.hide();
          dlg.dispose();
        });
        dlg.show();
      });

      lib.on( lib.g('newConfirmDialog'), 'click', function() {

        var dlg = DialogFactory.confirm({
          content: 'hello dialog!',
          height: '400px'
        });

        dlg.on('confirm', function() {
          dlg.dispose();
          console.log('confirm');
        });

        dlg.on('cancel', function() {
          console.log('cancel');
        });

        dlg.on('hide', function() {
          console.log('hide');
          dlg.dispose();
        });

        dlg.show();
      });

      lib.on( lib.g('newConfirmDialogNoFixed'), 'click', function() {

        var dlg = DialogFactory.confirm({
          content: 'hello dialog!',
          height: '400px',
          fixed: 0,
          onConfirm: function() {
            dlg.dispose();
            console.log('onconfirm');
          },
          onCancel: function() {
            console.log('oncancel');
          }
        });

        dlg.on('hide', function() {
          console.log('hide');
          dlg.dispose();
        });

        dlg.show();
      });

    });

})();
</script>
</body>
</html>
